#!/bin/bash

echo "Running Code Sniffer..."
./vendor/bin/phpcs --standard=BEIntegrationCodingStandard --extensions=php BEIntegrationCodingStandard tests
if [ $? != 0 ]
then
    echo "Fix the error before commit."
    exit 1
fi

echo "Running PHPstan"
./vendor/bin/phpstan analyze -l max -c phpstan.neon BEIntegrationCodingStandard
if [ $? != 0 ]
then
    echo "Fix the error before commit."
    exit 1
fi

exit $?
